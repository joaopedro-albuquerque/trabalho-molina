<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lise Interativa de M√©todos de Autentica√ß√£o</title>
    <!-- Chosen Palette: Calm Neutrals & Tech Blue -->
    <!-- Application Structure Plan: A single-page application designed for comparative analysis. The structure uses a top navigation bar for quick access to key thematic sections: an overview, a detailed method breakdown (using tabs for clarity), an interactive security comparison chart, and code demonstrations. This structure was chosen to transform a dense academic report into an exploratory tool. Instead of a linear read, users can jump to their area of interest, compare methods side-by-side, and interact with data, enhancing comprehension and engagement. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Core principles and vulnerabilities of TOTP, SMS/Email OTPs, and Biometrics. Goal: Compare & Inform. Viz/Method: An interactive radar chart (Chart.js) and side-by-side comparison cards. Interaction: Users can toggle methods on the chart to see a visual representation of their security trade-offs. Justification: A radar chart is superior to a bar chart for comparing multiple subjects across multiple standardized metrics, providing an instant "shape" of each method's security profile.
        - Report Info: Technical process flows (TOTP generation, SMS delivery, Biometric enrollment). Goal: Organize & Explain. Viz/Method: Diagrams built with structured HTML and Tailwind CSS (flexbox, borders). Interaction: Static visual aid. Justification: Adheres to the NO SVG/Mermaid constraint while providing clear, simplified visualizations of complex processes.
        - Report Info: Python code examples. Goal: Inform & Demonstrate. Viz/Method: A tabbed code viewer. Interaction: Users click buttons to switch between different code snippets. Justification: Organizes code neatly without cluttering the UI, allowing users to focus on one example at a time.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
        }
       .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 60vh;
            max-height: 500px;
        }
       .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
       .nav-link:hover {
            color: #3b82f6; /* text-blue-500 */
        }
       .tab-button.active {
            border-color: #3b82f6; /* border-blue-500 */
            color: #3b82f6; /* text-blue-500 */
            font-weight: 600;
        }
       .code-button.active {
            background-color: #3b82f6; /* bg-blue-500 */
            color: #ffffff; /* text-white */
        }
       .flow-box {
            border: 1px solid #e5e7eb; /* border-gray-200 */
            background-color: #f9fafb; /* bg-gray-50 */
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-align: center;
            flex-grow: 1;
            min-width: 120px;
        }
       .flow-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af; /* text-gray-400 */
            font-size: 1.5rem;
            margin: 0 0.5rem;
        }
         @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    </style>
</head>
<body class="bg-slate-50 text-gray-800">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-gray-800">An√°lise de Autentica√ß√£o</h1>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#overview" class="nav-link text-gray-600">Vis√£o Geral</a>
                <a href="#details" class="nav-link text-gray-600">M√©todos</a>
                <a href="#comparison" class="nav-link text-gray-600">Comparativo</a>
                <a href="#code" class="nav-link text-gray-600">C√≥digos</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-600 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#overview" class="block py-2 text-gray-600">Vis√£o Geral</a>
            <a href="#details" class="block py-2 text-gray-600">M√©todos</a>
            <a href="#comparison" class="block py-2 text-gray-600">Comparativo</a>
            <a href="#code" class="block py-2 text-gray-600">C√≥digos</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="overview" class="text-center mb-24">
            <h2 class="text-4xl font-bold mb-4 text-gray-900">O Futuro da Seguran√ßa √© Multi-Fator</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12">
                A autentica√ß√£o multi-fator (MFA) protege identidades digitais exigindo m√∫ltiplas provas de identidade. Esta an√°lise explora tr√™s pilares da MFA: o que voc√™ tem (tokens), o que voc√™ recebe (c√≥digos por comunica√ß√£o) e quem voc√™ √© (biometria).
            </p>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-lg transform hover:scale-105 transition-transform">
                    <div class="text-5xl mb-4">üì±</div>
                    <h3 class="text-2xl font-semibold mb-2">Tokens de Software (TOTP)</h3>
                    <p class="text-gray-600">C√≥digos gerados localmente no seu dispositivo, independentes de rede e altamente seguros contra intercepta√ß√£o.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg transform hover:scale-105 transition-transform">
                    <div class="text-5xl mb-4">‚úâÔ∏è</div>
                    <h3 class="text-2xl font-semibold mb-2">OTPs por SMS & E-mail</h3>
                    <p class="text-gray-600">A conveni√™ncia de receber c√≥digos onde voc√™ j√° est√°, mas com vulnerabilidades inerentes ao canal de entrega.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg transform hover:scale-105 transition-transform">
                     <div class="text-5xl mb-4">ü§ö</div>
                    <h3 class="text-2xl font-semibold mb-2">Biometria</h3>
                    <p class="text-gray-600">A forma de autentica√ß√£o mais pessoal, usando suas caracter√≠sticas √∫nicas como impress√£o digital ou geometria da m√£o.</p>
                </div>
            </div>
        </section>

        <section id="details" class="mb-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-900">M√©todos em Detalhe</h2>
            <p class="text-lg text-gray-600 text-center mb-12">Explore os princ√≠pios t√©cnicos, o funcionamento e as considera√ß√µes de cada abordagem de autentica√ß√£o.</p>
            
            <div class="mb-8 border-b border-gray-200">
                <nav class="flex justify-center -mb-px space-x-6">
                    <button class="tab-button py-4 px-1 border-b-2 text-gray-500 border-transparent text-lg" data-target="totp">Tokens (TOTP)</button>
                    <button class="tab-button py-4 px-1 border-b-2 text-gray-500 border-transparent text-lg" data-target="communication">SMS & E-mail</button>
                    <button class="tab-button py-4 px-1 border-b-2 text-gray-500 border-transparent text-lg" data-target="biometrics">Biometria</button>
                </nav>
            </div>

            <div id="tab-content">
                <div class="tab-pane" id="totp-content">
                    <h3 class="text-2xl font-semibold mb-4 text-center">Tokens de Software: A For√ßa da Criptografia Local</h3>
                    <p class="max-w-3xl mx-auto text-gray-600 mb-8 text-center">Baseado na RFC 6238, o TOTP (Time-Based One-Time Password) gera um c√≥digo a partir de um segredo compartilhado e do tempo atual. Como o c√≥digo nunca √© transmitido, ele √© imune a ataques de intercepta√ß√£o de rede.</p>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                        <h4 class="font-semibold text-lg mb-4 text-center">Fluxo de Gera√ß√£o TOTP</h4>
                        <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                            <div class="flow-box"><strong>1. Segredo Compartilhado (K)</strong><br><span class="text-sm text-gray-500">Chave √∫nica</span></div>
                            <div class="flow-arrow">+</div>
                            <div class="flow-box"><strong>2. Tempo Atual (T)</strong><br><span class="text-sm text-gray-500">Sincronizado via NTP</span></div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box"><strong>3. Fun√ß√£o Hash (HMAC-SHA1)</strong><br><span class="text-sm text-gray-500">Combina K e T</span></div>
                             <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box bg-blue-100 border-blue-300"><strong>4. C√≥digo OTP</strong><br><span class="text-sm text-gray-500">6 d√≠gitos v√°lidos por 30s</span></div>
                        </div>
                    </div>
                     <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-green-800 mb-2">Vantagens</h4>
                            <ul class="list-disc list-inside text-green-700 space-y-1">
                                <li>Alta resist√™ncia a ataques de repeti√ß√£o e intercepta√ß√£o.</li>
                                <li>Funciona offline ap√≥s a configura√ß√£o inicial.</li>
                                <li>Protege contra vazamento de senhas (credential stuffing).</li>
                            </ul>
                        </div>
                        <div class="bg-red-50 p-6 rounded-lg border border-red-200">
                            <h4 class="font-semibold text-red-800 mb-2">Vulnerabilidades</h4>
                            <ul class="list-disc list-inside text-red-700 space-y-1">
                                <li>A seguran√ßa depende da prote√ß√£o do segredo compartilhado.</li>
                                <li>Suscet√≠vel a phishing se o usu√°rio for enganado.</li>
                                <li>Pode falhar se houver dessincroniza√ß√£o de tempo.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tab-pane hidden" id="communication-content">
                    <h3 class="text-2xl font-semibold mb-4 text-center">OTPs por Comunica√ß√£o: A Conveni√™ncia e seus Riscos</h3>
                    <p class="max-w-3xl mx-auto text-gray-600 mb-8 text-center">Enviar c√≥digos por SMS ou e-mail √© universalmente acess√≠vel. No entanto, a seguran√ßa do m√©todo √© t√£o forte quanto a seguran√ßa do canal de comunica√ß√£o, que √© externo e muitas vezes vulner√°vel.</p>
                    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                        <h4 class="font-semibold text-lg mb-4 text-center">Fluxo de Envio por SMS/E-mail</h4>
                        <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                            <div class="flow-box"><strong>1. Servidor Gera OTP</strong><br><span class="text-sm text-gray-500">C√≥digo aleat√≥rio</span></div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box"><strong>2. Envio via Gateway</strong><br><span class="text-sm text-gray-500">Twilio (SMS) / SMTP (Email)</span></div>
                            <div class="flow-arrow text-red-500 font-bold">‚ö†Ô∏è</div>
                            <div class="flow-box border-red-300 bg-red-50"><strong>3. Rede P√∫blica</strong><br><span class="text-sm text-gray-500">Ponto de intercepta√ß√£o</span></div>
                             <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box"><strong>4. Dispositivo do Usu√°rio</strong><br><span class="text-sm text-gray-500">Recebe o c√≥digo</span></div>
                        </div>
                    </div>
                     <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-green-800 mb-2">Vantagens</h4>
                            <ul class="list-disc list-inside text-green-700 space-y-1">
                                <li>Extremamente conveniente e familiar para os usu√°rios.</li>
                                <li>N√£o requer instala√ß√£o de aplicativos adicionais.</li>
                                <li>Ampla compatibilidade com qualquer celular ou e-mail.</li>
                            </ul>
                        </div>
                        <div class="bg-red-50 p-6 rounded-lg border border-red-200">
                            <h4 class="font-semibold text-red-800 mb-2">Vulnerabilidades</h4>
                            <ul class="list-disc list-inside text-red-700 space-y-1">
                                <li>Ataques de SIM Swap (troca de chip) para SMS.</li>
                                <li>Comprometimento da conta de e-mail.</li>
                                <li>Intercepta√ß√£o de mensagens em tr√¢nsito.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tab-pane hidden" id="biometrics-content">
                    <h3 class="text-2xl font-semibold mb-4 text-center">Biometria: Voc√™ √© a Chave</h3>
                    <p class="max-w-3xl mx-auto text-gray-600 mb-8 text-center">Utilizando caracter√≠sticas √∫nicas e imut√°veis como a impress√£o digital ou a geometria da m√£o, a biometria oferece um m√©todo de autentica√ß√£o r√°pido e inerentemente pessoal. A seguran√ßa est√° em armazenar o "template" (modelo matem√°tico), n√£o a imagem real.</p>
                     <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                        <h4 class="font-semibold text-lg mb-4 text-center">Fluxo de Autentica√ß√£o Biom√©trica</h4>
                        <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                            <div class="flow-box"><strong>1. Captura</strong><br><span class="text-sm text-gray-500">Scanner l√™ o tra√ßo</span></div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box"><strong>2. Extra√ß√£o de Template</strong><br><span class="text-sm text-gray-500">Cria√ß√£o de modelo matem√°tico</span></div>
                            <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box"><strong>3. Compara√ß√£o</strong><br><span class="text-sm text-gray-500">Compara com template armazenado</span></div>
                             <div class="flow-arrow">‚Üí</div>
                            <div class="flow-box bg-blue-100 border-blue-300"><strong>4. Verifica√ß√£o</strong><br><span class="text-sm text-gray-500">Acesso concedido/negado</span></div>
                        </div>
                    </div>
                     <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-green-800 mb-2">Vantagens</h4>
                            <ul class="list-disc list-inside text-green-700 space-y-1">
                                <li>Extremamente dif√≠cil de falsificar ou roubar.</li>
                                <li>Conveniente e r√°pido para o usu√°rio (sem senhas).</li>
                                <li>O fator de autentica√ß√£o n√£o pode ser esquecido.</li>
                            </ul>
                        </div>
                        <div class="bg-red-50 p-6 rounded-lg border border-red-200">
                            <h4 class="font-semibold text-red-800 mb-2">Vulnerabilidades</h4>
                            <ul class="list-disc list-inside text-red-700 space-y-1">
                                <li>Se o template for roubado, n√£o pode ser alterado.</li>
                                <li>Preocupa√ß√µes com privacidade sobre o armazenamento de dados.</li>
                                <li>Pode ter falhas de leitura (dedos molhados, etc.).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="comparison" class="mb-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-900">Comparativo Visual de Seguran√ßa</h2>
            <p class="text-lg text-gray-600 text-center mb-12">Nenhum m√©todo √© perfeito. Use o gr√°fico interativo para comparar as for√ßas e fraquezas de cada abordagem em cinco crit√©rios essenciais. Selecione os m√©todos para compar√°-los.</p>
            
            <div class="bg-white p-8 rounded-lg shadow-xl">
                 <div class="flex justify-center flex-wrap gap-4 mb-8">
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" data-method="totp" checked>
                        <span class="ml-2 text-gray-700">TOTP</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-green-600" data-method="sms" checked>
                        <span class="ml-2 text-gray-700">SMS</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-purple-600" data-method="email" checked>
                        <span class="ml-2 text-gray-700">E-mail</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-red-600" data-method="biometrics" checked>
                        <span class="ml-2 text-gray-700">Biometria</span>
                    </label>
                </div>
                <div class="chart-container">
                    <canvas id="securityChart"></canvas>
                </div>
            </div>
        </section>

        <section id="code" class="mb-24">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-900">Demonstra√ß√µes de C√≥digo Python</h2>
             <p class="text-lg text-gray-600 text-center mb-12">Veja exemplos de implementa√ß√£o comentados para entender como esses sistemas funcionam na pr√°tica. Clique para alternar entre os c√≥digos.</p>
            
            <div class="bg-gray-800 rounded-lg shadow-xl overflow-hidden">
                <div class="bg-gray-700 p-3 flex space-x-2">
                    <button class="code-button px-4 py-1 rounded text-sm bg-gray-600 text-gray-300 transition" data-code="pyotp">TOTP (pyotp)</button>
                    <button class="code-button px-4 py-1 rounded text-sm bg-gray-600 text-gray-300 transition" data-code="twilio">SMS (Twilio)</button>
                    <button class="code-button px-4 py-1 rounded text-sm bg-gray-600 text-gray-300 transition" data-code="smtplib">Email (smtplib)</button>
                </div>
                <div class="p-4 text-sm font-mono text-white overflow-x-auto">
                    <pre class="code-pane" id="pyotp-code">
<span class="text-purple-400">import</span> pyotp
<span class="text-purple-400">import</span> time

<span class="text-gray-400"># 1. Gerar uma chave secreta base32 aleat√≥ria</span>
<span class="text-gray-400"># Esta chave secreta √© a base do sistema TOTP. Ela deve ser compartilhada de forma segura</span>
<span class="text-gray-400"># entre seu servidor (ou aplica√ß√£o) e o aplicativo autenticador do usu√°rio (ex: Google Authenticator).</span>
<span class="text-gray-400"># pyotp.random_base32() gera um segredo codificado em base32 de 16 caracteres, que √© compat√≠vel</span>
<span class="text-gray-400"># com a maioria dos aplicativos autenticadores padr√£o. Em um sistema real, este segredo seria</span>
<span class="text-gray-400"># gerado uma vez por usu√°rio durante seu registro para MFA e armazenado de forma segura em um banco de dados.</span>
secret_key = pyotp.random_base32()
print(<span class="text-green-300">f"Chave Secreta Gerada: {secret_key}"</span>)

<span class="text-gray-400"># 2. Inicializar um objeto TOTP com a chave secreta compartilhada</span>
<span class="text-gray-400"># O construtor pyotp.TOTP() cria uma inst√¢ncia que encapsula a l√≥gica</span>
<span class="text-gray-400"># para gerar e verificar senhas de uso √∫nico baseadas em tempo usando o segredo fornecido.</span>
totp = pyotp.TOTP(secret_key)

<span class="text-gray-400"># 3. Gerar a OTP atual</span>
<span class="text-gray-400"># O m√©todo.now() calcula a OTP para o passo de tempo atual. Este √© o c√≥digo de 6 d√≠gitos</span>
<span class="text-gray-400"># que um usu√°rio veria exibido em seu aplicativo autenticador neste momento preciso.</span>
<span class="text-gray-400"># O passo de tempo padr√£o √© de 30 segundos, o que significa que o c√≥digo muda a cada 30 segundos.</span>
current_otp = totp.now()
print(<span class="text-green-300">f"OTP atual gerada: {current_otp}"</span>)

<span class="text-gray-400"># 4. Verificar a OTP</span>
<span class="text-gray-400"># O m√©todo.verify(otp_code, valid_window=None) verifica se o c√≥digo OTP fornecido √© v√°lido</span>
<span class="text-gray-400"># para o passo de tempo atual. Ele tamb√©m pode aceitar um par√¢metro 'valid_window' (o padr√£o √© 1)</span>
<span class="text-gray-400"># para considerar pequenos desvios de rel√≥gio, permitindo c√≥digos do passo de tempo anterior ou seguinte.</span>
<span class="text-gray-400"># Em uma aplica√ß√£o real, 'user_entered_otp' seria o c√≥digo submetido pelo usu√°rio.</span>
user_entered_otp = current_otp <span class="text-gray-400"># Para esta demonstra√ß√£o, usamos a OTP rec√©m-gerada para verifica√ß√£o bem-sucedida.</span>

print(<span class="text-green-300">f"\nTentando verificar a OTP '{user_entered_otp}' imediatamente..."</span>)
<span class="text-purple-400">if</span> totp.verify(user_entered_otp):
    print(<span class="text-green-300">f"OTP '{user_entered_otp}' verificada com sucesso para o passo de tempo atual."</span>)
<span class="text-purple-400">else</span>:
    print(<span class="text-green-300">f"Falha na verifica√ß√£o da OTP '{user_entered_otp}' para o passo de tempo atual."</span>)

<span class="text-gray-400"># 5. Demonstrar a expira√ß√£o da OTP (natureza baseada em tempo)</span>
<span class="text-gray-400"># Os c√≥digos TOTP s√£o inerentemente sens√≠veis ao tempo. Ap√≥s a expira√ß√£o de sua janela de validade (padr√£o de 30 segundos),</span>
<span class="text-gray-400"># a mesma OTP n√£o ser√° mais considerada v√°lida pelo servidor. Este √© um recurso de seguran√ßa cr√≠tico</span>
<span class="text-gray-400"># que previne ataques de repeti√ß√£o.</span>
print(<span class="text-green-300">"\nAguardando 30 segundos para simular a passagem do tempo e demonstrar a expira√ß√£o da OTP..."</span>)
time.sleep(30) <span class="text-gray-400"># Pausa a execu√ß√£o do script por 30 segundos, for√ßando o avan√ßo do passo de tempo.</span>

<span class="text-gray-400"># Tentar verificar a *mesma* OTP ap√≥s sua janela de tempo ter passado.</span>
print(<span class="text-green-300">f"Tentando verificar a OTP '{user_entered_otp}' ap√≥s 30 segundos (espera-se que falhe)..."</span>)
<span class="text-purple-400">if</span> totp.verify(user_entered_otp):
    print(<span class="text-green-300">f"OTP '{user_entered_otp}' verificada com sucesso ap√≥s 30 segundos (isso idealmente deveria ser Falso)."</span>)
<span class="text-purple-400">else</span>:
    print(<span class="text-green-300">f"OTP '{user_entered_otp}' falhou na verifica√ß√£o ap√≥s 30 segundos (conforme esperado)."</span>)

<span class="text-gray-400"># 6. Gerar uma nova OTP ap√≥s a passagem do tempo</span>
<span class="text-gray-400"># Uma nova OTP ser√° gerada para o novo passo de tempo.</span>
new_current_otp = totp.now()
print(<span class="text-green-300">f"\nNova OTP gerada ap√≥s 30 segundos: {new_current_otp}"</span>)

<span class="text-gray-400"># Verificar a nova OTP</span>
print(<span class="text-green-300">f"Tentando verificar a nova OTP '{new_current_otp}'..."</span>)
<span class="text-purple-400">if</span> totp.verify(new_current_otp):
    print(<span class="text-green-300">f"Nova OTP '{new_current_otp}' verificada com sucesso."</span>)
<span class="text-purple-400">else</span>:
    print(<span class="text-green-300">f"Nova OTP '{new_current_otp}' falhou na verifica√ß√£o."</span>)
</pre>
                    <pre class="code-pane hidden" id="twilio-code">
<span class="text-purple-400">import</span> os
<span class="text-purple-400">from</span> twilio.rest <span class="text-purple-400">import</span> Client
<span class="text-purple-400">import</span> random

<span class="text-gray-400"># As credenciais da sua conta Twilio (Account SID e Auth Token) s√£o necess√°rias para autenticar</span>
<span class="text-gray-400"># com a API da Twilio. √â altamente recomend√°vel armazen√°-las como vari√°veis de ambiente</span>
<span class="text-gray-400"># para seguran√ßa, em vez de codific√°-las diretamente no script.</span>
<span class="text-gray-400"># Voc√™ pode encontrar seu Account SID e Auth Token no painel da Twilio em twilio.com/console.</span>
account_sid = os.environ.get(<span class="text-green-300">"TWILIO_ACCOUNT_SID"</span>)
auth_token = os.environ.get(<span class="text-green-300">"TWILIO_AUTH_TOKEN"</span>)

<span class="text-gray-400"># Verifica se as vari√°veis de ambiente foram carregadas.</span>
<span class="text-purple-400">if</span> <span class="text-purple-400">not</span> account_sid <span class="text-purple-400">or not</span> auth_token:
    print(<span class="text-green-300">"Erro: As vari√°veis de ambiente TWILIO_ACCOUNT_SID e TWILIO_AUTH_TOKEN n√£o est√£o configuradas."</span>)
    print(<span class="text-green-300">"Por favor, defina-as antes de executar o script."</span>)
    exit()

<span class="text-gray-400"># Inicializa o cliente Twilio com suas credenciais.</span>
client = Client(account_sid, auth_token)

<span class="text-purple-400">def</span> <span class="text-yellow-300">send_sms_otp</span>(to_phone_number, otp_code, twilio_phone_number):
    <span class="text-gray-400">"""</span>
<span class="text-gray-400">    Envia uma OTP via SMS usando a API da Twilio.</span>

<span class="text-gray-400">    Args:</span>
<span class="text-gray-400">        to_phone_number (str): O n√∫mero de telefone do destinat√°rio no formato E.164 (ex: '+15551234567').</span>
<span class="text-gray-400">        otp_code (str): O c√≥digo OTP a ser enviado.</span>
<span class="text-gray-400">        twilio_phone_number (str): Seu n√∫mero de telefone Twilio no formato E.164.</span>
<span class="text-gray-400">    """</span>
    <span class="text-purple-400">try</span>:
        <span class="text-gray-400"># Cria uma nova mensagem SMS usando o cliente Twilio.</span>
        <span class="text-gray-400"># O par√¢metro 'body' √© o conte√∫do do texto da mensagem SMS. Aqui, ele incluir√° a OTP.</span>
        <span class="text-gray-400"># O par√¢metro 'from_' √© o seu n√∫mero de telefone Twilio.</span>
        <span class="text-gray-400"># O par√¢metro 'to' √© o n√∫mero de telefone do destinat√°rio.</span>
        message = client.messages.create(
            body=<span class="text-green-300">f"Seu c√≥digo OTP √©: {otp_code}. Ele √© v√°lido por um curto per√≠odo. N√£o o compartilhe."</span>,
            from_=twilio_phone_number,
            to=to_phone_number
        )
        print(<span class="text-green-300">f"Mensagem SMS enviada com sucesso para {to_phone_number}. SID da mensagem: {message.sid}"</span>)
        <span class="text-gray-400"># Voc√™ pode acessar outros valores da resposta da API usando 'message.atributo', por exemplo, message.status</span>
        <span class="text-gray-400"># print(f"Status da mensagem: {message.status}")</span>
    <span class="text-purple-400">except</span> Exception <span class="text-purple-400">as</span> e:
        print(<span class="text-green-300">f"Erro ao enviar SMS OTP: {e}"</span>)

<span class="text-gray-400"># --- Exemplo de Uso ---</span>
<span class="text-purple-400">if</span> __name__ == <span class="text-green-300">"__main__"</span>:
    <span class="text-gray-400"># Substitua pelo n√∫mero de telefone do destinat√°rio (formato E.164)</span>
    RECIPIENT_PHONE_NUMBER = <span class="text-green-300">"+15558675310"</span> <span class="text-gray-400"># Exemplo: um n√∫mero de telefone de teste Twilio ou um n√∫mero real</span>

    <span class="text-gray-400"># Substitua pelo seu n√∫mero de telefone Twilio (formato E.164)</span>
    YOUR_TWILIO_PHONE_NUMBER = <span class="text-green-300">"+15017122661"</span> <span class="text-gray-400"># Exemplo: seu n√∫mero de telefone Twilio</span>

    <span class="text-gray-400"># Gerar uma OTP simples (em uma aplica√ß√£o real, voc√™ usaria um gerador de OTP mais robusto)</span>
    <span class="text-purple-400">import</span> random
    generated_otp = str(random.randint(100000, 999999))
    print(<span class="text-green-300">f"OTP gerada: {generated_otp}"</span>)

    <span class="text-gray-400"># Enviar a OTP via SMS</span>
    send_sms_otp(RECIPIENT_PHONE_NUMBER, generated_otp, YOUR_TWILIO_PHONE_NUMBER)
</pre>
                    <pre class="code-pane hidden" id="smtplib-code">
<span class="text-purple-400">import</span> smtplib
<span class="text-purple-400">import</span> random
<span class="text-purple-400">from</span> email.mime.text <span class="text-purple-400">import</span> MIMEText
<span class="text-purple-400">from</span> email.mime.multipart <span class="text-purple-400">import</span> MIMEMultipart

<span class="text-purple-400">def</span> <span class="text-yellow-300">generate_otp</span>(length=6):
    <span class="text-gray-400">"""</span>
<span class="text-gray-400">    Gera uma senha de uso √∫nico (OTP) num√©rica de um determinado comprimento.</span>
<span class="text-gray-400">    """</span>
    <span class="text-purple-400">return</span> <span class="text-green-300">""</span>.join(random.choices(<span class="text-green-300">"0123456789"</span>, k=length))

<span class="text-purple-400">def</span> <span class="text-yellow-300">send_otp_email</span>(sender_email, sender_password, receiver_email, otp_code):
    <span class="text-gray-400">"""</span>
<span class="text-gray-400">    Envia um e-mail contendo uma senha de uso √∫nico (OTP) para um √∫nico destinat√°rio.</span>

<span class="text-gray-400">    Args:</span>
<span class="text-gray-400">        sender_email (str): O endere√ßo de e-mail do remetente.</span>
<span class="text-gray-400">        sender_password (str): A senha (ou senha de aplicativo) para a conta de e-mail do remetente.</span>
<span class="text-gray-400">        receiver_email (str): O endere√ßo de e-mail do destinat√°rio.</span>
<span class="text-gray-400">        otp_code (str): O c√≥digo OTP a ser enviado.</span>
<span class="text-gray-400">    """</span>
    <span class="text-purple-400">try</span>:
        <span class="text-gray-400"># Configura√ß√µes do servidor SMTP. Para Gmail, o servidor √© 'smtp.gmail.com' e a porta segura √© 587.</span>
        smtp_server = <span class="text-green-300">"smtp.gmail.com"</span>
        smtp_port = 587

        <span class="text-gray-400"># Cria um objeto de mensagem multipart para permitir mais flexibilidade (ex: HTML, anexos).</span>
        <span class="text-gray-400"># Embora esta OTP seja texto simples, √© uma boa pr√°tica para e-mails mais complexos.</span>
        msg = MIMEMultipart()
        msg[<span class="text-green-300">'From'</span>] = sender_email
        msg[<span class="text-green-300">'To'</span>] = receiver_email
        msg[<span class="text-green-300">'Subject'</span>] = <span class="text-green-300">"Seu C√≥digo de Uso √önico (OTP)"</span>

        <span class="text-gray-400"># Corpo da mensagem.</span>
        body = <span class="text-green-300">f"""
        Prezado(a) Usu√°rio(a),

        Seu c√≥digo de uso √∫nico (OTP) √©: {otp_code}

        Este c√≥digo √© v√°lido por um curto per√≠odo de tempo e deve ser usado imediatamente.
        Por favor, n√£o compartilhe este c√≥digo com ningu√©m.

        Atenciosamente,
        Sua Equipe de Servi√ßo
        """</span>
        msg.attach(MIMEText(body, <span class="text-green-300">'plain'</span>))

        <span class="text-gray-400"># Inicia uma sess√£o SMTP.</span>
        <span class="text-gray-400"># smtplib.SMTP() cria um objeto de sess√£o cliente.</span>
        server = smtplib.SMTP(smtp_server, smtp_port)

        <span class="text-gray-400"># Coloca a conex√£o SMTP em modo TLS (Transport Layer Security) para criptografia.</span>
        server.starttls()

        <span class="text-gray-400"># Autentica o remetente com o servidor SMTP.</span>
        <span class="text-gray-400"># Se estiver usando Gmail com verifica√ß√£o em duas etapas, voc√™ precisar√° de uma "senha de aplicativo".</span>
        server.login(sender_email, sender_password)

        <span class="text-gray-400"># Envia o e-mail.</span>
        <span class="text-gray-400"># sendmail() requer o remetente, o destinat√°rio e a mensagem como uma string.</span>
        server.sendmail(sender_email, receiver_email, msg.as_string())

        print(<span class="text-green-300">f"E-mail OTP enviado com sucesso para {receiver_email}"</span>)

    <span class="text-purple-400">except</span> smtplib.SMTPAuthenticationError:
        print(<span class="text-green-300">"Erro ao enviar e-mail OTP: Erro de autentica√ß√£o. Verifique seu e-mail e senha."</span>)
        print(<span class="text-green-300">"Nota: Se estiver usando Gmail com Verifica√ß√£o em Duas Etapas, voc√™ pode precisar de uma Senha de Aplicativo."</span>)
    <span class="text-purple-400">except</span> smtplib.SMTPConnectError:
        print(<span class="text-green-300">"Erro ao enviar e-mail OTP: N√£o foi poss√≠vel conectar ao servidor SMTP."</span>)
    <span class="text-purple-400">except</span> Exception <span class="text-purple-400">as</span> e:
        print(<span class="text-green-300">f"Ocorreu um erro inesperado: {e}"</span>)
    <span class="text-purple-400">finally</span>:
        <span class="text-gray-400"># Garante que a sess√£o SMTP seja encerrada.</span>
        <span class="text-purple-400">if</span> <span class="text-green-300">'server'</span> <span class="text-purple-400">in</span> locals() <span class="text-purple-400">and</span> server:
            server.quit()

<span class="text-gray-400"># --- Exemplo de Uso ---</span>
<span class="text-purple-400">if</span> __name__ == <span class="text-green-300">"__main__"</span>:
    <span class="text-gray-400"># Substitua pelo seu e-mail e senha (ou senha de aplicativo) do remetente</span>
    SENDER_EMAIL = <span class="text-green-300">"seu_email@gmail.com"</span>
    SENDER_PASSWORD = <span class="text-green-300">"sua_senha_de_aplicativo_ou_senha_normal"</span> <span class="text-gray-400"># Use uma Senha de Aplicativo para o Gmail se 2FA estiver ativado</span>

    <span class="text-gray-400"># Substitua pelo endere√ßo de e-mail do destinat√°rio</span>
    RECEIVER_EMAIL = <span class="text-green-300">"email_do_destinatario@example.com"</span>

    <span class="text-gray-400"># Gerar a OTP</span>
    generated_otp = generate_otp()
    print(<span class="text-green-300">f"OTP gerada: {generated_otp}"</span>)

    <span class="text-gray-400"># Enviar o e-mail OTP</span>
    send_otp_email(SENDER_EMAIL, SENDER_PASSWORD, RECEIVER_EMAIL, generated_otp)
</pre>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white text-center py-8">
        <div class="container mx-auto px-6">
            <p class="mb-2">A seguran√ßa mais robusta √© alcan√ßada atrav√©s de uma abordagem em camadas, combinando diferentes fatores e m√©todos.</p>
            <p class="text-sm text-gray-400">An√°lise interativa baseada em pesquisa cient√≠fica sobre m√©todos de autentica√ß√£o.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // --- Tabs Logic ---
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabPanes = document.querySelectorAll('.tab-pane');

    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Deactivate all buttons and hide all panes
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabPanes.forEach(pane => pane.classList.add('hidden'));

            // Activate clicked button and show target pane
            button.classList.add('active');
            const targetPane = document.getElementById(button.dataset.target + '-content');
            if (targetPane) {
                targetPane.classList.remove('hidden');
            }
        });
    });
    // Set initial active tab
    if (tabButtons.length > 0) {
        tabButtons[0].click(); // Corrected to target the first element
    }
    
    // --- Code Viewer Logic ---
    const codeButtons = document.querySelectorAll('.code-button');
    const codePanes = document.querySelectorAll('.code-pane');

    codeButtons.forEach(button => {
        button.addEventListener('click', () => {
            codeButtons.forEach(btn => btn.classList.remove('active'));
            codePanes.forEach(pane => pane.classList.add('hidden'));
            
            button.classList.add('active');
            const targetPane = document.getElementById(button.dataset.code + '-code');
            if(targetPane) {
                targetPane.classList.remove('hidden');
            }
        });
    });
    // Set initial active code
     if (codeButtons.length > 0) {
        codeButtons[0].click(); // Corrected to target the first element
    }


    // --- Chart.js Logic ---
    const ctx = document.getElementById('securityChart').getContext('2d');
    const chartData = {
        labels: ['Resist. a Intercepta√ß√£o', 'Resist. a Phishing', 'Indep. de Terceiros', 'Impacto do Roubo', 'Conveni√™ncia'],
        datasets: [
            {
                label: 'TOTP',
                data: [9, 4, 8, 7, 6], // Scores out of 10
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                pointBackgroundColor: '#3b82f6',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#3b82f6',
                hidden: false,
            },
            {
                label: 'SMS',
                data: [3, 3, 2, 5, 9],
                borderColor: '#16a34a',
                backgroundColor: 'rgba(22, 163, 74, 0.2)',
                pointBackgroundColor: '#16a34a',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#16a34a',
                hidden: false,
            },
            {
                label: 'E-mail',
                data: [2, 2, 4, 6, 8],
                borderColor: '#9333ea',
                backgroundColor: 'rgba(147, 51, 234, 0.2)',
                pointBackgroundColor: '#9333ea',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#9333ea',
                hidden: false,
            },
            {
                label: 'Biometria',
                data: [10, 8, 10, 9, 8],
                borderColor: '#dc2626',
                backgroundColor: 'rgba(220, 38, 38, 0.2)',
                pointBackgroundColor: '#dc2626',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#dc2626',
                hidden: false,
            }
        ]
    };

    const securityChart = new Chart(ctx, {
        type: 'radar',
        data: chartData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                    grid: { color: 'rgba(0, 0, 0, 0.1)' },
                    pointLabels: {
                        font: {
                            size: 14,
                        },
                        color: '#4b5563' // text-gray-600
                    },
                    ticks: {
                        backdropColor: 'rgba(255, 255, 255, 0.75)',
                        stepSize: 2,
                        color: '#6b7280', // text-gray-500
                    },
                    min: 0,
                    max: 10
                }
            },
            plugins: {
                legend: {
                    position: 'top',
                     labels: {
                        font: { size: 14 },
                        color: '#1f2937' // text-gray-800
                    }
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.r !== null) {
                                label += context.parsed.r + '/10';
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });

    // Checkbox logic to show/hide datasets
    const checkboxes = document.querySelectorAll('.form-checkbox');
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', () => {
            const method = checkbox.dataset.method;
            const isChecked = checkbox.checked;
            
            const datasetIndex = securityChart.data.datasets.findIndex(ds => ds.label.toLowerCase() === method);
            
            if (datasetIndex !== -1) {
                securityChart.setDatasetVisibility(datasetIndex, isChecked);
                securityChart.update();
            }
        });
    });
});
</script>

</body>
</html>
